[build]
  command = "npm install"
  publish = "."
  functions = "api"

# --- Konfigurasi Fungsi (Global) ---
[functions]
  # Memaksa Netlify menggunakan bundler yang lebih stabil
  node_bundler = "zisi"
  
  # Batas waktu eksekusi fungsi diatur ke 60 detik (Fix Timeout 504)
  timeout = 60

  # Secara eksplisit memberitahu Netlify modul mana yang harus dipaketkan
  external_node_modules = [
    "express", 
    "multer",
    "@google/genai",
    "serverless-http"
  ]
